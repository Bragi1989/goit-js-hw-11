var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in t){var i=t[e];delete t[e];var o={id:e,exports:{}};return n[e]=o,i.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){t[e]=n},e.parcelRequired7c6=i);var o=i("2POL7"),r=i("kpjQp");let a=1,s="",l=!1,c=!1,f=!1,d=0,u=0;const m=document.getElementById("search-form"),h=document.querySelector(".gallery"),p=(0,r.initializeLightbox)();async function g(e){try{l=!0;const n=await(0,o.fetchImages)(e,a,40),t=n.hits;if(0===t.length)return c=!0,void(f||(0,r.showFailureNotification)("Sorry, there are no more images matching your search query."));u=Math.ceil(n.totalHits/40),f||((0,r.showSuccessNotification)(`Hooray! We found ${n.totalHits} images.`),f=!0),function(e){const n=e.map((e=>function(e){return`\n    <div class="photo-card">\n      <a href="${e.largeImageURL}" class="lightbox">\n        <img src="${e.webformatURL}" alt="${e.tags}" loading="lazy" />\n      </a>\n      <div class="info">\n        <p class="info-item">\n          <b>Likes:</b> ${e.likes}\n        </p>\n        <p class="info-item">\n          <b>Views:</b> ${e.views}\n        </p>\n        <p class="info-item">\n          <b>Comments:</b> ${e.comments}\n        </p>\n        <p class="info-item">\n          <b>Downloads:</b> ${e.downloads}\n        </p>\n      </div>\n    </div>\n  `}(e)));h.insertAdjacentHTML("beforeend",n.join("")),p.refresh()}(t),a++,d++}catch(e){(0,r.showFailureNotification)("Oops! Something went wrong.")}finally{l=!1}}m.addEventListener("submit",(async function(e){e.preventDefault();const n=new FormData(m);if(s=n.get("searchQuery"),""===s.trim())return void(0,r.showInfoNotification)("Please enter a search query.");h.innerHTML="",a=1,c=!1,f=!1,d=0,u=0,await g(s)})),window.addEventListener("scroll",(()=>{if(l||c||d>=u)return;const{scrollTop:e,clientHeight:n,scrollHeight:t}=document.documentElement;e+n>=t-1e3&&async function(){if(l||c||d>=u)return;await g(s)}()}));
//# sourceMappingURL=index.4c18ed4b.js.map
